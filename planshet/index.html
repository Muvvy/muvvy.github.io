<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ò–Ω—Ñ–æ-–¥–∏—Å–ø–ª–µ–π</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      font-family: "Segoe UI", Arial, sans-serif;
      color: #fff;
    }

    /* –°–ª–∞–π–¥—à–æ—É */
    #slideshow {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 0;
    }
    #slideshow img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 2s;
    }
    #slideshow img.active {
      opacity: 1;
    }

    /* Glass UI */
    .glass3d { 
      --filter-glass3d: blur(15px) brightness(1) saturate(1); 
      --color-glass3d: hsl(178 76% 16% / 0.2); 
      --noise-glass3d: url("https://www.transparenttextures.com/patterns/egg-shell.png"); 

      position: relative; 
      z-index: 4; 
      box-shadow:  
        0 0 0.75px hsl(205 20% 10% / 0.2), 
        0.7px 0.8px 1.2px -0.4px hsl(205 20% 10% / 0.1), 
        1.3px 1.5px 2.2px -0.8px hsl(205 20% 10% / 0.1), 
        2.3px 2.6px 3.9px -1.2px hsl(205 20% 10% / 0.1), 
        3.9px 4.4px 6.6px -1.7px hsl(205 20% 10% / 0.1), 
        6.5px 7.2px 10.9px -2.1px hsl(205 20% 10% / 0.1), 
        8px 9px 14px -2.5px hsl(205 20% 10% / 0.2); 
      border-radius: 16px;
      padding: 20px;
      margin: 20px;
    }
    .glass3d::before { 
      content: ""; 
      position: absolute; 
      inset: 0; 
      pointer-events: none; 
      border-radius: inherit; 
      overflow: hidden; 
      z-index: 3; 
      -webkit-backdrop-filter: var(--filter-glass3d); 
      backdrop-filter: var(--filter-glass3d); 
      background-color: var(--color-glass3d); 
      background-image: var(--noise-glass3d); 
      background-size: 100px; 
      background-repeat: repeat; 
    }
    .glass3d::after { 
      content: ""; 
      position: absolute; 
      inset: 0; 
      pointer-events: none; 
      border-radius: inherit; 
      overflow: hidden; 
      z-index: 5; 
      box-shadow: 
        inset 2px 2px 1px -3px hsl(205 20% 90% / 0.8), 
        inset 4px 4px 2px -6px hsl(205 20% 90% / 0.3), 
        inset 1.5px 1.5px 1.5px -0.75px hsl(205 20% 90% / 0.15), 
        inset 1.5px 1.5px 0.25px hsl(205 20% 90% / 0.03), 
        inset 0 0 0.25px 0.5px hsl(205 20% 90% / 0.03); 
    }
    .glass3d > * { 
      position: relative; 
      z-index: 6; 
    }

    /* –ú–∞–∫–µ—Ç */
    .overlay {
      position: relative;
      z-index: 10;
      display: flex;
      flex-direction: column;
      height: 100%;
      justify-content: space-between;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .weather-blocks {
      display: flex;
      justify-content: space-around;
      gap: 20px;
    }

    .weather-column {
      flex: 1;
      text-align: center;
    }

    .weather-column h3 {
      margin-top: 0;
      margin-bottom: 10px;
    }

    .time {
      font-size: 36px;
      font-weight: bold;
    }

    .date {
      font-size: 20px;
    }
  </style>
</head>
<body>
  <!-- –°–ª–∞–π–¥—à–æ—É -->
  <div id="slideshow">
    <img src="https://avatars.mds.yandex.net/i?id=885bb6c842a0dd60572d2c1e9b45b5c9_l-8497013-images-thumbs&n=33&w=1728&h=1080" class="active">
  </div>

  <!-- –ü–æ–≤–µ—Ä—Ö -->
  <div class="overlay">
    <div class="glass3d top-bar">
      <div class="date" id="date">--</div>
      <div class="time" id="time">--:--:--</div>
      <div id="currentTemp">--¬∞</div>
    </div>

    <div class="glass3d weather-blocks" id="weather">
      <div class="weather-column" id="today">
        <h3>–°–µ–≥–æ–¥–Ω—è</h3>
      </div>
      <div class="weather-column" id="tomorrow">
        <h3>–ó–∞–≤—Ç—Ä–∞</h3>
      </div>
    </div>
  </div>

  <script>
    const apiKey = "f304f6ed52ee424f82892819252809";
    const city = "Moscow";

    function textToEmoji(text) {
      text = text.toLowerCase();
      if (text.includes("—Å–æ–ª–Ω")) return "‚òÄÔ∏è";
      if (text.includes("–æ–±–ª–∞—á–Ω–æ")) return "‚õÖ";
      if (text.includes("–ø–∞—Å–º—É—Ä–Ω–æ")) return "‚òÅÔ∏è";
      if (text.includes("–¥–æ–∂–¥")) return "üåßÔ∏è";
      if (text.includes("–≥—Ä–æ–∑–∞")) return "‚õàÔ∏è";
      if (text.includes("—Å–Ω–µ–≥")) return "üå®Ô∏è";
      if (text.includes("—Ç—É–º–∞–Ω")) return "üå´Ô∏è";
      return "üå°Ô∏è";
    }

    async function loadWeather() {
      try {
        const res = await fetch(
          `http://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${city}&days=2&lang=ru`
        );
        const data = await res.json();

        // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ —Ç–æ–ø-–±–∞—Ä–µ
        document.getElementById("currentTemp").textContent =
          `${Math.round(data.current.temp_c)}¬∞ ${textToEmoji(data.current.condition.text)}`;

        function renderDay(dayData, elemId) {
          const parts = [
            { label: "–ù–æ—á—å", hour: 0 },
            { label: "–£—Ç—Ä–æ", hour: 6 },
            { label: "–î–µ–Ω—å", hour: 12 },
            { label: "–í–µ—á–µ—Ä", hour: 18 },
          ];
          let html = `<h3>${elemId === "today" ? "–°–µ–≥–æ–¥–Ω—è" : "–ó–∞–≤—Ç—Ä–∞"}</h3>`;
          html += "<div style='display:flex; gap:15px; justify-content:center;'>";
          parts.forEach(p => {
            const h = dayData.hour[p.hour];
            html += `<span>${p.label}: ${Math.round(h.temp_c)}¬∞ ${textToEmoji(h.condition.text)}</span>`;
          });
          html += "</div>";
          document.getElementById(elemId).innerHTML = html;
        }

        renderDay(data.forecast.forecastday[0], "today");
        renderDay(data.forecast.forecastday[1], "tomorrow");
      } catch (e) {
        document.getElementById("weather").textContent = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–≥–æ–¥—ã";
      }
    }

    function updateClock() {
      const now = new Date();
      document.getElementById("time").textContent =
        now.toLocaleTimeString("ru-RU", { hour12: false });
      document.getElementById("date").textContent =
        now.toLocaleDateString("ru-RU", { weekday: "long", day: "numeric", month: "long" });
    }

    // –°–ª–∞–π–¥—à–æ—É
    const slides = document.querySelectorAll("#slideshow img");
    let current = 0;
    setInterval(() => {
      slides[current].classList.remove("active");
      current = (current + 1) % slides.length;
      slides[current].classList.add("active");
    }, 8000);

    loadWeather();
    setInterval(loadWeather, 10 * 60 * 1000);
    setInterval(updateClock, 1000);
    updateClock();
  </script>
</body>
</html>
