<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D –ú–æ–¥–µ–ª—å - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
        /* –°–±—Ä–æ—Å –∏ –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #ffffff;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å–Ω–æ–≤–Ω–æ–π */
        .container {
            max-width: 1400px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ */
        .text-content {
            width: 100%;
            max-width: 800px;
            text-align: center;
            padding: 0 20px;
        }
        
        .text-content h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #222;
        }
        
        .text-content p {
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 15px;
            line-height: 1.8;
        }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è 3D –º–æ–¥–µ–ª–∏ —Å –±–µ–ª—ã–º —Ñ–æ–Ω–æ–º */
        .model-container {
            width: 100%;
            height: 75vh;
            min-height: 600px;
            max-height: 900px;
            background: #ffffff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            border: 1px solid #f0f0f0;
            position: relative;
        }
        
        /* –°–∞–º model-viewer */
        model-viewer {
            width: 100%;
            height: 100%;
            --poster-color: transparent;
            --progress-bar-color: #4a6cf7;
            --progress-bar-height: 4px;
            --progress-mask: #ffffff;
            background-color: #ffffff;
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è 28 –ú–ë */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: opacity 0.3s ease;
        }
        
        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(74, 108, 247, 0.1);
            border-top: 4px solid #4a6cf7;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        .loading-progress {
            width: 300px;
            height: 6px;
            background: rgba(74, 108, 247, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 20px;
        }
        
        .loading-progress-bar {
            height: 100%;
            background: #4a6cf7;
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 3px;
        }
        
        .loading-text {
            font-size: 1rem;
            color: #666;
            text-align: center;
        }
        
        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è) */
        .controls-hint {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            color: #666;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 5;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }
        
        .controls-hint:hover {
            opacity: 1;
        }
        
        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏ */
        .model-info {
            background: #f8f9ff;
            border-radius: 12px;
            padding: 20px;
            width: 100%;
            max-width: 800px;
            text-align: center;
            border: 1px solid #eef0ff;
            margin-top: 20px;
        }
        
        .model-info p {
            color: #666;
            font-size: 0.95rem;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; visibility: hidden; }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1200px) {
            .model-container {
                height: 70vh;
                min-height: 500px;
            }
        }
        
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            .text-content h1 {
                font-size: 2rem;
            }
            
            .text-content p {
                font-size: 1rem;
            }
            
            .model-container {
                height: 60vh;
                min-height: 400px;
            }
            
            .controls-hint {
                font-size: 0.8rem;
                padding: 8px 16px;
                bottom: 15px;
            }
            
            .loading-progress {
                width: 250px;
            }
        }
        
        @media (max-width: 480px) {
            .model-container {
                height: 50vh;
                min-height: 350px;
            }
            
            .text-content h1 {
                font-size: 1.7rem;
            }
            
            .controls-hint {
                font-size: 0.75rem;
                padding: 6px 12px;
                white-space: nowrap;
            }
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ -->
        <div class="text-content">
            <h1>–ù–∞–∑–≤–∞–Ω–∏–µ 3D –ú–æ–¥–µ–ª–∏</h1>
            <p>–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–π 3D –º–æ–¥–µ–ª–∏. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –µ–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∏–ª–∏ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è.</p>
            <p>–ú–æ–¥–µ–ª—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.</p>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è 3D –º–æ–¥–µ–ª–∏ -->
        <div class="model-container">
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è 28 –ú–ë –º–æ–¥–µ–ª–∏ -->
            <div class="loading-overlay" id="loadingOverlay">
                <div class="loader"></div>
                <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ 3D –º–æ–¥–µ–ª–∏ (28 –ú–ë)...</div>
                <div class="loading-progress">
                    <div class="loading-progress-bar" id="progressBar"></div>
                </div>
                <div class="loading-text" id="progressText">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É...</div>
            </div>
            
            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫ –º–æ–¥–µ–ª–∏ -->
            <model-viewer
                id="model-viewer"
                src="model.glb"
                alt="3D –º–æ–¥–µ–ª—å"
                camera-controls
                auto-rotate
                ar
                ar-modes="webxr scene-viewer quick-look"
                
                <!-- –ù–ê–°–¢–†–û–ô–ö–ò –ö–ê–ß–ï–°–¢–í–ê –ò –í–ù–ï–®–ù–ï–ì–û –í–ò–î–ê -->
                environment-image="neutral"
                shadow-intensity="1.5"
                exposure="1.2"
                tone-mapping="aces"
                camera-orbit="0deg 75deg 2.5m"
                field-of-view="45deg"
                min-camera-orbit="auto auto 1m"
                max-camera-orbit="auto auto 10m"
                min-field-of-view="20deg"
                max-field-of-view="70deg"
                
                <!-- –ù–ê–°–¢–†–û–ô–ö–ò –†–ï–ù–î–ï–†–ò–ù–ì–ê –î–õ–Ø –í–´–°–û–ö–û–ì–û –ö–ê–ß–ï–°–¢–í–ê -->
                render-scale="1.5"
                image-decoding="sync"
                reveal="auto"
                loading="eager"
                
                <!-- –¶–í–ï–¢ –§–û–ù–ê –ò –û–ö–†–£–ñ–ï–ù–ò–Ø -->
                environment-intensity="2.5"
                skybox-image="neutral"
                background-color="#ffffff"
                
                style="width: 100%; height: 100%;"
            >
            </model-viewer>
            
            <!-- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é -->
            <div class="controls-hint">
                <span>üñ±Ô∏è</span>
                <span>–í—Ä–∞—â–∞–π—Ç–µ: –º—ã—à—å ‚Ä¢ –ü—Ä–∏–±–ª–∏–∂–∞–π—Ç–µ: –∫–æ–ª–µ—Å–∏–∫–æ</span>
            </div>
        </div>
        
        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏ -->
        <div class="model-info">
            <p>–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ .glb ‚Ä¢ –†–∞–∑–º–µ—Ä: 28 –ú–ë ‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –≤–µ–±-–ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
        </div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const modelViewer = document.querySelector('#model-viewer');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –º–æ–¥–µ–ª–∏ 28 –ú–ë
        const MODEL_CONFIG = {
            sizeMB: 28,
            expectedLoadTime: 15, // —Å–µ–∫—É–Ω–¥ –¥–ª—è 28 –ú–ë –Ω–∞ —Å—Ä–µ–¥–Ω–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
            highQuality: true
        };
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        let loadStartTime;
        let isModelLoaded = false;
        
        // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π
        function optimizeForLargeModel() {
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
            modelViewer.setAttribute('preload', '');
            modelViewer.setAttribute('loading', 'eager');
            
            // –î–ª—è –º–æ–¥–µ–ª–µ–π > 20 –ú–ë –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
            if (MODEL_CONFIG.sizeMB > 20) {
                // –û—Ç–∫–ª—é—á–∞–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
                setTimeout(() => {
                    modelViewer.setAttribute('shadow-intensity', '1.2');
                    modelViewer.setAttribute('exposure', '1.1');
                }, 1000);
            }
            
            console.log(`–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–¥–µ–ª–∏ ${MODEL_CONFIG.sizeMB} –ú–ë –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞`);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
        function updateProgress(percent, message) {
            progressBar.style.width = `${percent}%`;
            progressText.textContent = message;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è
            if (loadStartTime && percent > 0) {
                const elapsed = (Date.now() - loadStartTime) / 1000;
                const estimatedTotal = (elapsed / percent) * 100;
                const remaining = Math.max(0, Math.round(estimatedTotal - elapsed));
                
                if (remaining > 0 && percent < 95) {
                    progressText.textContent = `${message} ‚Ä¢ –û—Å—Ç–∞–ª–æ—Å—å: ${remaining} —Å–µ–∫`;
                }
            }
        }
        
        // –°–æ–±—ã—Ç–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏
        modelViewer.addEventListener('load', () => {
            console.log('‚úÖ 3D –º–æ–¥–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!');
            isModelLoaded = true;
            
            // –ü–ª–∞–≤–Ω–æ —Å–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                updateProgress(100, '–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞!');
                
                // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å–∫—Ä—ã—Ç–∏–µ–º –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
                setTimeout(() => {
                    loadingOverlay.style.animation = 'fadeOut 0.5s ease forwards';
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                        
                        // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
                        enhanceQualityAfterLoad();
                    }, 500);
                }, 500);
            }, 300);
        });
        
        // –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
        function enhanceQualityAfterLoad() {
            // –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–ª—É—á—à–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
            setTimeout(() => {
                modelViewer.setAttribute('shadow-intensity', '1.8');
                modelViewer.setAttribute('exposure', '1.3');
                modelViewer.setAttribute('environment-intensity', '3');
                
                // –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ-–≤—Ä–∞—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    modelViewer.setAttribute('auto-rotate', '');
                }, 3000);
                
                console.log('üé® –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ');
            }, 1000);
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
        modelViewer.addEventListener('progress', (event) => {
            if (!loadStartTime) {
                loadStartTime = Date.now();
            }
            
            const progress = Math.floor(event.detail.totalProgress * 100);
            let message = '–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏...';
            
            if (progress < 30) {
                message = '–ó–∞–≥—Ä—É–∑–∫–∞ –≥–µ–æ–º–µ—Ç—Ä–∏–∏...';
            } else if (progress < 70) {
                message = '–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—Å—Ç—É—Ä...';
            } else if (progress < 95) {
                message = '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞...';
            } else {
                message = '–§–∏–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞...';
            }
            
            updateProgress(progress, message);
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
        modelViewer.addEventListener('error', (event) => {
            console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏:', event.detail);
            
            let errorMessage = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏';
            
            switch (event.detail) {
                case 'fetch-failed':
                    errorMessage = '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –º–æ–¥–µ–ª–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å: model.glb';
                    break;
                case 'parse-failed':
                    errorMessage = '–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –º–æ–¥–µ–ª–∏. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π .glb —Ñ–∞–π–ª';
                    break;
                case 'unsupported-format':
                    errorMessage = '–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .glb';
                    break;
            }
            
            progressText.innerHTML = `
                <div style="color: #e74c3c; margin-bottom: 10px;">‚ùå ${errorMessage}</div>
                <div style="font-size: 0.9rem; color: #666;">
                    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª "model.glb" –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, —á—Ç–æ –∏ index.html
                </div>
            `;
            progressBar.style.background = '#e74c3c';
        });
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ WebGL
        function checkWebGLSupport() {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            
            if (!gl) {
                loadingOverlay.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 3rem; margin-bottom: 20px;">‚ö†Ô∏è</div>
                        <h3 style="color: #333; margin-bottom: 15px;">–¢—Ä–µ–±—É–µ—Ç—Å—è WebGL</h3>
                        <p style="color: #666; margin-bottom: 20px;">
                            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebGL, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è 3D –º–æ–¥–µ–ª–µ–π.
                        </p>
                        <p style="color: #666; font-size: 0.9rem;">
                            –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chrome/Firefox
                        </p>
                    </div>
                `;
                return false;
            }
            
            return true;
        }
        
        // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function setupPerformanceOptimization() {
            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç–æ–π –∫–∞–¥—Ä–æ–≤ –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π
            let frameCount = 0;
            let lastTime = Date.now();
            
            function monitorFPS() {
                frameCount++;
                const currentTime = Date.now();
                
                if (currentTime - lastTime >= 1000) {
                    const fps = Math.round((frameCount * 1000) / (currentTime - lastTime));
                    frameCount = 0;
                    lastTime = currentTime;
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ FPS
                    if (fps < 30 && MODEL_CONFIG.highQuality) {
                        console.log(`‚ö° –ù–∏–∑–∫–∏–π FPS (${fps}), –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º...`);
                        modelViewer.setAttribute('render-scale', '1.2');
                    }
                }
                
                if (isModelLoaded) {
                    requestAnimationFrame(monitorFPS);
                }
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏
            modelViewer.addEventListener('load', () => {
                setTimeout(monitorFPS, 2000);
            });
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É WebGL
            if (!checkWebGLSupport()) {
                return;
            }
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–æ–π –º–æ–¥–µ–ª–∏
            optimizeForLargeModel();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
            setupPerformanceOptimization();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥–µ–ª–∏
            loadStartTime = Date.now();
            updateProgress(5, '–ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏...');
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—É—Ç–µ–π –¥–ª—è GitHub Pages
            setTimeout(() => {
                fetch('model.glb')
                    .catch(() => {
                        // –ü—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—É—Ç–∏
                        const altPaths = ['model/model.glb', '3d/model.glb', 'assets/model.glb'];
                        tryAlternativePaths(altPaths, 0);
                    });
            }, 1000);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ø—ã—Ç–∫–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—É—Ç–µ–π
        function tryAlternativePaths(paths, index) {
            if (index >= paths.length) return;
            
            fetch(paths[index])
                .then(response => {
                    if (response.ok) {
                        console.log(`‚úÖ –ù–∞–π–¥–µ–Ω–∞ –º–æ–¥–µ–ª—å –ø–æ –ø—É—Ç–∏: ${paths[index]}`);
                        modelViewer.src = paths[index];
                    } else {
                        tryAlternativePaths(paths, index + 1);
                    }
                })
                .catch(() => {
                    tryAlternativePaths(paths, index + 1);
                });
        }
        
        // –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–∫–Ω–∞
        function adaptModelSize() {
            const modelContainer = document.querySelector('.model-container');
            const isMobile = window.innerWidth < 768;
            
            if (isMobile) {
                modelContainer.style.height = '60vh';
                modelContainer.style.minHeight = '400px';
            } else {
                modelContainer.style.height = '75vh';
                modelContainer.style.minHeight = '600px';
            }
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', init);
        window.addEventListener('resize', adaptModelSize);
        adaptModelSize();
        
        // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        document.querySelector('.text-content').classList.add('fade-in');
        setTimeout(() => {
            document.querySelector('.model-container').classList.add('fade-in');
        }, 200);
    </script>
</body>
</html>
